<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Lignes de Crêtes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {% load static %}

    <!-- Leaflet CSS et JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="{% static 'hello/leaflet.polylineDecorator.js' %}"></script>

    <!-- Leaflet Heightgraph CSS et JS -->
    <link rel="stylesheet" href="{% static 'hello/L.Control.Heightgraph.min.css' %}" />
    <script src="{% static 'hello/L.Control.Heightgraph.min.js' %}"></script>

    <!-- Leaflet elevation -->
    <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.css" />
    <script src="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.js"></script>

    <!-- Styles principaux -->
    <link rel="stylesheet" type="text/css" href="{% static 'hello/site.css' %}" />
    <link rel="icon" href="{% static 'hello/favicon.png' %}" type="image/x-icon">


</head>

<body>
<div class="container">
    <div class="sidebar">
        <h2>Lignes de crêtes</h2>
        <div class="form-wrapper">
            <form id="trek-form" method="get">
                <label for="city">Ville de départ :</label>
                <select id="city" name="city">
                    <option value="Lyon" selected>Lyon</option>
                    <!-- D'autres villes à ajouter plus tard -->
                </select>

                <label for="massif">Massif :</label>
                <select id="massif" name="massif">
                    <option value="Chartreuse" selected>Chartreuse</option>
                    <option value="Massif des Bauges" selected>Massif des Bauges</option>
                    <!-- D'autres massifs à ajouter plus tard -->
                </select>

                <label for="departure_datetime">Date et heure de départ :</label>
                <input type="datetime-local" id="departure_datetime" name="departure_datetime" required>

                <label for="return_datetime">Date et heure de retour :</label>
                <input type="datetime-local" id="return_datetime" name="return_datetime" required>

                <label for="level">Niveau :</label>
                <select id="level" name="level">
                    <option value="debutant">&lt; 10 km (Débutant)</option>
                    <option value="intermediaire">10–20 km (Intermédiaire)</option>
                    <option value="avance">20–30 km (Avancé)</option>
                    <option value="expert">&gt; 30 km (Expert)</option>
                </select>

                <label for="randomness">Aléatoire (randomness) : <span id="randomness-value">0.30</span></label>
                <input type="range" id="randomness" name="randomness" min="0" max="1" step="0.01" value="0.3" />

                <button type="submit" id="submit-btn">Trouver mon trek</button>
            </form>
        </div>

        <hr class="divider">

        <div id="transit-info"></div>
    </div>

    <div class="map-container">
        <div id="map"></div>
        <div id="elevation-div"></div>
    </div>
</div>

{% if path %}
<div id="path-data" data-coords='{{ path|escapejs }}'></div>
{% endif %}

<script src="{% static 'hello/index.js' %}"></script>
</body>
</html>
